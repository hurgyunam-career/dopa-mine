# Git 워크플로우

이 문서는 협업 시 안전하고 추적 가능한 Git 작업 흐름을 정의한다.

## 1. 브랜치 전략
- `main`은 항상 배포 가능한 상태를 유지한다.
- 작업은 기능 단위 브랜치에서 진행한다. 예: `feat/`, `fix/`, `chore/`, `docs/`
- 하나의 브랜치에는 하나의 목적(기능/버그/문서)을 유지한다.

## 2. 작업 시작
1. 최신 `main` 기준으로 브랜치를 생성한다.
2. 작업 범위와 관련 문서(`docs/*`)를 먼저 확인한다.
3. 큰 작업은 중간 단위로 나누어 커밋 계획을 잡는다.

## 3. 커밋 규칙
- 커밋은 작고 의미 단위로 나눈다.
- 커밋 메시지는 의도를 드러내는 한 줄 요약을 사용한다.
- 권장 접두어: `feat:`, `fix:`, `refactor:`, `test:`, `docs:`, `chore:`
- 포맷/린트 수정은 기능 변경 커밋과 분리하는 것을 권장한다.

## 4. 코드 품질 게이트
- 커밋 전 아래 항목을 우선 확인한다.
  - `dart format .`
  - `flutter analyze`
  - 관련 테스트(`flutter test`)
- 실패한 검증을 우회하는 임시 옵션(`--no-verify` 등)은 사용하지 않는다.

## 5. Pull Request 규칙
- PR은 작은 단위로 자주 올린다.
- PR 본문에 아래 항목을 포함한다.
  - 변경 목적
  - 핵심 변경점
  - 테스트 방법/결과
  - 영향 범위 및 롤백 방법(필요 시)
- UI 변경이 있으면 스크린샷 또는 녹화 자료를 첨부한다.

## 6. 금지/주의 사항
- 강제 푸시(`push --force`)는 팀 합의 없이 사용하지 않는다.
- 이력 손실 가능성이 있는 명령(`reset --hard`)은 신중히 사용한다.
- 충돌 해결 시 단순 컴파일 통과보다 도메인 규칙 보존을 우선한다.

## 7. 문서 동기화
- 기능/정책 변경 시 관련 문서를 함께 갱신한다.
- 최소 동기화 대상: `docs/context/01_current_understanding.md` + 관련 규칙/기획 문서 1개 이상
- 문서와 코드가 충돌하면 PR에서 의도와 기준 문서를 명시한다.
